<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>How-to guides • projr</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="How-to guides">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">projr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.3.3-0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/get-started.html">Get started</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/how-to-guides.html">How-to guides</a></li>
    <li><a class="dropdown-item" href="../articles/build-process.html">Build Process</a></li>
    <li><a class="dropdown-item" href="../articles/send-to-remotes.html">Sending to Remotes</a></li>
    <li><a class="dropdown-item" href="../articles/restore-artifacts.html">Restoring Artifacts</a></li>
    <li><a class="dropdown-item" href="../articles/environment.html">Environment Variables</a></li>
    <li><a class="dropdown-item" href="../articles/scripts-and-hooks.html">Scripts and Hooks</a></li>
    <li><a class="dropdown-item" href="../articles/concepts.html">Concepts</a></li>
    <li><a class="dropdown-item" href="../articles/design.html">Design</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-news" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">News</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-news">
<li><a class="dropdown-item" href="../news/index.html">Changelog</a></li>
    <li><a class="dropdown-item" href="../BUILDLOG.html">Build log</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/SATVILab/projr" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>How-to guides</h1>
            
      

      <div class="d-none name"><code>how-to-guides.Rmd</code></div>
    </div>

    
    
<p>Short, task-focused guides for common projr workflows. Each section
follows the pattern: <strong>When to use</strong>,
<strong>Steps</strong>, <strong>Pitfalls</strong>, and <strong>See
also</strong>.</p>
<hr>
<div class="section level2">
<h2 id="initialise-a-project">1. Initialise a project<a class="anchor" aria-label="anchor" href="#initialise-a-project"></a>
</h2>
<div class="section level3">
<h3 id="when-to-use">When to use<a class="anchor" aria-label="anchor" href="#when-to-use"></a>
</h3>
<p>When starting a new research project or adopting projr in an existing
project.</p>
</div>
<div class="section level3">
<h3 id="steps">Steps<a class="anchor" aria-label="anchor" href="#steps"></a>
</h3>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://satvilab.github.io/projr/">projr</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Option 1: Interactive prompts (recommended for first-time users)</span></span>
<span><span class="fu"><a href="../reference/projr_init_prompt.html">projr_init_prompt</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Option 2: Sensible defaults</span></span>
<span><span class="fu"><a href="../reference/projr_init.html">projr_init</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Option 3: Full setup with extras</span></span>
<span><span class="fu">projr_init_full</span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><strong>What gets created:</strong></p>
<ul>
<li>
<code>_projr.yml</code> - Project configuration</li>
<li>
<code>DESCRIPTION</code> - Project metadata</li>
<li>
<code>README.md</code> - Project documentation</li>
<li>Directory structure (<code>_raw_data</code>, <code>_output</code>,
<code>_tmp</code>, <code>docs</code>)</li>
<li>Git repository (optional, prompted)</li>
<li>GitHub repository (optional, prompted)</li>
<li>License file (optional, prompted)</li>
<li>Citation file (optional, prompted)</li>
</ul>
<p><strong>Customising metadata:</strong></p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Set license</span></span>
<span><span class="fu"><a href="../reference/projr_init.html">projr_init_license</a></span><span class="op">(</span>license <span class="op">=</span> <span class="st">"MIT"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Set up citation</span></span>
<span><span class="fu"><a href="../reference/projr_init.html">projr_init_cite</a></span><span class="op">(</span></span>
<span>  title <span class="op">=</span> <span class="st">"My Research Project"</span>,</span>
<span>  authors <span class="op">=</span> <span class="st">"Jane Doe"</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="pitfalls">Pitfalls<a class="anchor" aria-label="anchor" href="#pitfalls"></a>
</h3>
<ul>
<li>
<strong>Git/GitHub prompts</strong>: If you haven’t set up GitHub
credentials, the initialisation may fail. See
<code><a href="../reference/instr_auth.html">projr_instr_auth_github()</a></code> for setup instructions.</li>
<li>
<strong>Existing files</strong>: Initialisation won’t overwrite
existing configuration files. Delete or rename them first if you want
fresh defaults.</li>
</ul>
</div>
<div class="section level3">
<h3 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a>
</h3>
<ul>
<li>
<code><a href="../reference/projr_init.html">?projr_init</a></code> - Full documentation</li>
<li>
<code><a href="../reference/projr_init.html">?projr_init_git</a></code> - Git-specific initialisation</li>
<li>
<code><a href="../reference/projr_init.html">?projr_init_github</a></code> - GitHub-specific
initialisation</li>
</ul>
<hr>
</div>
</div>
<div class="section level2">
<h2 id="run-a-development-build-safely">2. Run a development build safely<a class="anchor" aria-label="anchor" href="#run-a-development-build-safely"></a>
</h2>
<div class="section level3">
<h3 id="when-to-use-1">When to use<a class="anchor" aria-label="anchor" href="#when-to-use-1"></a>
</h3>
<p>When iterating on code and documents, before you’re ready to create a
new versioned release.</p>
</div>
<div class="section level3">
<h3 id="steps-1">Steps<a class="anchor" aria-label="anchor" href="#steps-1"></a>
</h3>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Build all documents, route outputs to cache</span></span>
<span><span class="fu"><a href="../reference/projr_build_dev.html">projr_build_dev</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Build specific documents only</span></span>
<span><span class="fu"><a href="../reference/projr_build_dev.html">projr_build_dev</a></span><span class="op">(</span><span class="st">"analysis.Rmd"</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/projr_build_dev.html">projr_build_dev</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"methods.Rmd"</span>, <span class="st">"results.Rmd"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><strong>Where outputs go:</strong></p>
<p>Development builds route everything to
<code>_tmp/projr/v&lt;version&gt;/</code>:</p>
<pre><code>_tmp/projr/v0.1.0/
├── output/         # Your _output directory content
└── docs/           # Rendered documents</code></pre>
<p>**Clearing _output before dev builds:**</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Clear _output before building (useful for testing)</span></span>
<span><span class="fu"><a href="../reference/projr_build_dev.html">projr_build_dev</a></span><span class="op">(</span>clear_output <span class="op">=</span> <span class="st">"pre"</span><span class="op">)</span></span></code></pre></div>
<p><strong>Using paths in your code:</strong></p>
<p>Always use <code><a href="../reference/projr_path_get.html">projr_path_get()</a></code> to ensure paths work
correctly in both dev and final builds:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># In your R Markdown or scripts:</span></span>
<span><span class="va">fig_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/projr_path_get.html">projr_path_get</a></span><span class="op">(</span><span class="st">"output"</span>, <span class="st">"figures"</span>, <span class="st">"plot.png"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/grDevices/png.html" class="external-link">png</a></span><span class="op">(</span>filename <span class="op">=</span> <span class="va">fig_path</span><span class="op">)</span></span>
<span><span class="co"># ... plotting code ...</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/grDevices/dev.html" class="external-link">dev.off</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># During dev build: saves to _tmp/projr/v0.1.0/output/figures/plot.png</span></span>
<span><span class="co"># During final build: saves to _output/figures/plot.png</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="pitfalls-1">Pitfalls<a class="anchor" aria-label="anchor" href="#pitfalls-1"></a>
</h3>
<ul>
<li>
<strong>Forgetting <code><a href="../reference/projr_path_get.html">projr_path_get()</a></code></strong>: If you
use hardcoded paths like <code>"_output/plot.png"</code>, dev builds
will still write to <code>_output</code> instead of the cache.</li>
<li>
<strong>Cache directory growth</strong>: The cache can grow large
over time. Clean it periodically with
<code>unlink("_tmp/projr", recursive = TRUE)</code>.</li>
</ul>
</div>
<div class="section level3">
<h3 id="see-also-1">See also<a class="anchor" aria-label="anchor" href="#see-also-1"></a>
</h3>
<ul>
<li>
<code><a href="../reference/projr_build_dev.html">?projr_build_dev</a></code> - Full documentation</li>
<li>
<code><a href="../reference/projr_path_get.html">?projr_path_get</a></code> - Path helper documentation</li>
</ul>
<hr>
</div>
</div>
<div class="section level2">
<h2 id="run-a-final-build">3. Run a final build<a class="anchor" aria-label="anchor" href="#run-a-final-build"></a>
</h2>
<div class="section level3">
<h3 id="when-to-use-2">When to use<a class="anchor" aria-label="anchor" href="#when-to-use-2"></a>
</h3>
<p>When you’ve completed and tested changes and want to create a new
versioned release.</p>
</div>
<div class="section level3">
<h3 id="steps-2">Steps<a class="anchor" aria-label="anchor" href="#steps-2"></a>
</h3>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Patch version bump (0.1.0 -&gt; 0.1.1)</span></span>
<span><span class="fu"><a href="../reference/projr_build.html">projr_build</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co"># or explicitly:</span></span>
<span><span class="fu"><a href="../reference/projr_build.html">projr_build_patch</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Minor version bump (0.1.0 -&gt; 0.2.0)</span></span>
<span><span class="fu"><a href="../reference/projr_build.html">projr_build_minor</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Major version bump (0.1.0 -&gt; 1.0.0)</span></span>
<span><span class="fu"><a href="../reference/projr_build.html">projr_build_major</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><strong>What happens:</strong></p>
<ol style="list-style-type: decimal">
<li>
<strong>Pre-build</strong>: Clears <code>_output</code>
(configurable via <code>PROJR_OUTPUT_CLEAR</code> env var)</li>
<li>
<strong>Build</strong>: Renders all documents</li>
<li>
<strong>Version bump</strong>: Updates project version in
<code>DESCRIPTION</code>
</li>
<li>
<strong>Manifest</strong>: Creates manifest linking inputs to
outputs</li>
<li>
<strong>Post-build</strong>: Copies outputs to <code>_output</code>
and <code>docs</code>
</li>
<li>
<strong>Archive</strong>: Uploads to configured destinations
(GitHub, OSF, local)</li>
<li>
<strong>Git commit</strong>: Creates commit with version bump (if
configured)</li>
</ol>
<p><strong>Controlling output clearing:</strong></p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Set environment variable to control clearing behaviour</span></span>
<span><span class="co"># Options: "pre" (before build), "post" (after build), "none"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Sys.setenv.html" class="external-link">Sys.setenv</a></span><span class="op">(</span>PROJR_OUTPUT_CLEAR <span class="op">=</span> <span class="st">"pre"</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/projr_build.html">projr_build</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Or set in .Renviron file:</span></span>
<span><span class="co"># PROJR_OUTPUT_CLEAR=pre</span></span></code></pre></div>
<p><strong>Customising commit messages:</strong></p>
<p>The default commit message is “Build v<version>”. Configure this in
<code>_projr.yml</code>:</version></p>
<div class="sourceCode" id="cb9"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb9-1"><a href="#cb9-1" tabindex="-1"></a><span class="fu">build</span><span class="kw">:</span></span>
<span id="cb9-2"><a href="#cb9-2" tabindex="-1"></a><span class="at">  </span><span class="fu">git</span><span class="kw">:</span></span>
<span id="cb9-3"><a href="#cb9-3" tabindex="-1"></a><span class="at">    </span><span class="fu">commit</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
<span id="cb9-4"><a href="#cb9-4" tabindex="-1"></a><span class="at">    </span><span class="fu">push</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span>
<span id="cb9-5"><a href="#cb9-5" tabindex="-1"></a><span class="at">    </span><span class="fu">commit_msg</span><span class="kw">:</span><span class="at"> </span><span class="st">"Release v{version}"</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="pitfalls-2">Pitfalls<a class="anchor" aria-label="anchor" href="#pitfalls-2"></a>
</h3>
<ul>
<li>
<strong>Uncommitted changes</strong>: If you have uncommitted Git
changes, the build may fail. Commit or stash changes first.</li>
<li>
<strong>Missing archives</strong>: If GitHub/OSF uploads fail, check
your credentials and network connection.</li>
<li>
<strong>Version conflicts</strong>: Ensure the version in
<code>DESCRIPTION</code> matches your expectations before building.</li>
</ul>
</div>
<div class="section level3">
<h3 id="see-also-2">See also<a class="anchor" aria-label="anchor" href="#see-also-2"></a>
</h3>
<ul>
<li>
<code><a href="../reference/projr_build.html">?projr_build</a></code> - Full documentation</li>
<li>
<code><a href="../reference/projr_version_set.html">?projr_version_set</a></code> - Manually set version</li>
</ul>
<hr>
</div>
</div>
<div class="section level2">
<h2 id="archive-artefacts">4. Archive artefacts<a class="anchor" aria-label="anchor" href="#archive-artefacts"></a>
</h2>
<div class="section level3">
<h3 id="when-to-use-3">When to use<a class="anchor" aria-label="anchor" href="#when-to-use-3"></a>
</h3>
<p>When you want to configure where and how project components are
archived after builds.</p>
</div>
<div class="section level3">
<h3 id="steps-3">Steps<a class="anchor" aria-label="anchor" href="#steps-3"></a>
</h3>
<p><strong>Archive structure:</strong></p>
<p>projr supports three archive types:</p>
<ol style="list-style-type: decimal">
<li>
<strong>GitHub Releases</strong> - Version-controlled releases on
GitHub</li>
<li>
<strong>OSF</strong> - Open Science Framework storage</li>
<li>
<strong>Local</strong> - Local directory (e.g., network drive, cloud
sync folder)</li>
</ol>
<p><strong>Configure in <code>_projr.yml</code>:</strong></p>
<div class="sourceCode" id="cb10"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb10-1"><a href="#cb10-1" tabindex="-1"></a><span class="fu">build</span><span class="kw">:</span></span>
<span id="cb10-2"><a href="#cb10-2" tabindex="-1"></a><span class="co">  # GitHub Releases</span></span>
<span id="cb10-3"><a href="#cb10-3" tabindex="-1"></a><span class="at">  </span><span class="fu">github</span><span class="kw">:</span></span>
<span id="cb10-4"><a href="#cb10-4" tabindex="-1"></a><span class="at">    </span><span class="fu">raw-data</span><span class="kw">:</span></span>
<span id="cb10-5"><a href="#cb10-5" tabindex="-1"></a><span class="at">      </span><span class="fu">content</span><span class="kw">:</span><span class="at"> </span><span class="kw">[</span><span class="at">raw-data</span><span class="kw">]</span></span>
<span id="cb10-6"><a href="#cb10-6" tabindex="-1"></a><span class="at">      </span><span class="fu">description</span><span class="kw">:</span><span class="at"> </span><span class="st">"Raw data files"</span></span>
<span id="cb10-7"><a href="#cb10-7" tabindex="-1"></a><span class="at">      </span><span class="fu">cue</span><span class="kw">:</span><span class="at"> </span><span class="st">"always"</span><span class="co">  # or "new" (default)</span></span>
<span id="cb10-8"><a href="#cb10-8" tabindex="-1"></a><span class="at">    </span><span class="fu">output</span><span class="kw">:</span></span>
<span id="cb10-9"><a href="#cb10-9" tabindex="-1"></a><span class="at">      </span><span class="fu">content</span><span class="kw">:</span><span class="at"> </span><span class="kw">[</span><span class="at">output</span><span class="kw">]</span></span>
<span id="cb10-10"><a href="#cb10-10" tabindex="-1"></a><span class="at">      </span><span class="fu">description</span><span class="kw">:</span><span class="at"> </span><span class="st">"Analysis outputs"</span></span>
<span id="cb10-11"><a href="#cb10-11" tabindex="-1"></a><span class="at">    </span><span class="fu">docs</span><span class="kw">:</span></span>
<span id="cb10-12"><a href="#cb10-12" tabindex="-1"></a><span class="at">      </span><span class="fu">content</span><span class="kw">:</span><span class="at"> </span><span class="kw">[</span><span class="at">docs</span><span class="kw">]</span></span>
<span id="cb10-13"><a href="#cb10-13" tabindex="-1"></a><span class="at">      </span><span class="fu">description</span><span class="kw">:</span><span class="at"> </span><span class="st">"Rendered documents"</span></span>
<span id="cb10-14"><a href="#cb10-14" tabindex="-1"></a></span>
<span id="cb10-15"><a href="#cb10-15" tabindex="-1"></a><span class="co">  # OSF</span></span>
<span id="cb10-16"><a href="#cb10-16" tabindex="-1"></a><span class="at">  </span><span class="fu">osf</span><span class="kw">:</span></span>
<span id="cb10-17"><a href="#cb10-17" tabindex="-1"></a><span class="at">    </span><span class="fu">project</span><span class="kw">:</span><span class="at"> </span><span class="st">"abc123"</span><span class="co">  # OSF project ID</span></span>
<span id="cb10-18"><a href="#cb10-18" tabindex="-1"></a><span class="at">    </span><span class="fu">raw-data</span><span class="kw">:</span></span>
<span id="cb10-19"><a href="#cb10-19" tabindex="-1"></a><span class="at">      </span><span class="fu">content</span><span class="kw">:</span><span class="at"> </span><span class="kw">[</span><span class="at">raw-data</span><span class="kw">]</span></span>
<span id="cb10-20"><a href="#cb10-20" tabindex="-1"></a><span class="at">      </span><span class="fu">component</span><span class="kw">:</span><span class="at"> </span><span class="st">"data"</span><span class="co">  # OSF component name</span></span>
<span id="cb10-21"><a href="#cb10-21" tabindex="-1"></a></span>
<span id="cb10-22"><a href="#cb10-22" tabindex="-1"></a><span class="co">  # Local directory</span></span>
<span id="cb10-23"><a href="#cb10-23" tabindex="-1"></a><span class="at">  </span><span class="fu">local</span><span class="kw">:</span></span>
<span id="cb10-24"><a href="#cb10-24" tabindex="-1"></a><span class="at">    </span><span class="fu">path</span><span class="kw">:</span><span class="at"> </span><span class="st">"~/Dropbox/my-project-archive"</span></span>
<span id="cb10-25"><a href="#cb10-25" tabindex="-1"></a><span class="at">    </span><span class="fu">raw-data</span><span class="kw">:</span></span>
<span id="cb10-26"><a href="#cb10-26" tabindex="-1"></a><span class="at">      </span><span class="fu">content</span><span class="kw">:</span><span class="at"> </span><span class="kw">[</span><span class="at">raw-data</span><span class="kw">]</span></span>
<span id="cb10-27"><a href="#cb10-27" tabindex="-1"></a><span class="at">      </span><span class="fu">path</span><span class="kw">:</span><span class="at"> </span><span class="st">"data"</span></span>
<span id="cb10-28"><a href="#cb10-28" tabindex="-1"></a><span class="at">    </span><span class="fu">output</span><span class="kw">:</span></span>
<span id="cb10-29"><a href="#cb10-29" tabindex="-1"></a><span class="at">      </span><span class="fu">content</span><span class="kw">:</span><span class="at"> </span><span class="kw">[</span><span class="at">output</span><span class="kw">]</span></span>
<span id="cb10-30"><a href="#cb10-30" tabindex="-1"></a><span class="at">      </span><span class="fu">path</span><span class="kw">:</span><span class="at"> </span><span class="st">"outputs"</span></span></code></pre></div>
<p><strong>Add destinations programmatically:</strong></p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Add GitHub archive</span></span>
<span><span class="fu"><a href="../reference/projr_yml_dest_add_github.html">projr_yml_dest_add_github</a></span><span class="op">(</span></span>
<span>  label <span class="op">=</span> <span class="st">"raw-data"</span>,</span>
<span>  content <span class="op">=</span> <span class="st">"raw-data"</span>,</span>
<span>  description <span class="op">=</span> <span class="st">"Raw data files"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Add OSF archive</span></span>
<span><span class="fu"><a href="../reference/projr_yml_dest_add_osf.html">projr_yml_dest_add_osf</a></span><span class="op">(</span></span>
<span>  label <span class="op">=</span> <span class="st">"raw-data"</span>,</span>
<span>  content <span class="op">=</span> <span class="st">"raw-data"</span>,</span>
<span>  project <span class="op">=</span> <span class="st">"abc123"</span>,</span>
<span>  component <span class="op">=</span> <span class="st">"data"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Add local archive</span></span>
<span><span class="fu"><a href="../reference/projr_yml_dest_add.html">projr_yml_dest_add_local</a></span><span class="op">(</span></span>
<span>  label <span class="op">=</span> <span class="st">"raw-data"</span>,</span>
<span>  content <span class="op">=</span> <span class="st">"raw-data"</span>,</span>
<span>  path <span class="op">=</span> <span class="st">"~/archive/data"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><strong>Archive parameters:</strong></p>
<ul>
<li>
<code>content</code>: Which directory to archive (raw-data, output,
docs, cache)</li>
<li>
<code>cue</code>: When to upload - “always”, “new” (only if content
changed), “never”</li>
<li>
<code>strategy</code>: “archive” (versioned) or “latest”
(overwrite)</li>
<li>
<code>description</code>: Human-readable description</li>
</ul>
<p><strong>Inspecting archives:</strong></p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># View current YAML configuration</span></span>
<span><span class="fu"><a href="../reference/projr_yml_get.html">projr_yml_get</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Check if files will be uploaded</span></span>
<span><span class="co"># (Run a dev build to see what would happen without actually uploading)</span></span>
<span><span class="fu"><a href="../reference/projr_build_dev.html">projr_build_dev</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="pitfalls-3">Pitfalls<a class="anchor" aria-label="anchor" href="#pitfalls-3"></a>
</h3>
<ul>
<li>
<strong>Large files on GitHub</strong>: GitHub has a 2GB limit for
release assets. Use OSF or local for larger datasets.</li>
<li>
<strong>OSF authentication</strong>: Set up OSF credentials first
with <code><a href="../reference/instr_auth.html">projr_instr_auth_osf()</a></code>.</li>
<li>
<strong>Network failures</strong>: Archives may fail silently. Check
the build log for errors.</li>
</ul>
</div>
<div class="section level3">
<h3 id="see-also-3">See also<a class="anchor" aria-label="anchor" href="#see-also-3"></a>
</h3>
<ul>
<li><code><a href="../reference/projr_yml_dest_add_github.html">?projr_yml_dest_add_github</a></code></li>
<li><code><a href="../reference/projr_yml_dest_add_osf.html">?projr_yml_dest_add_osf</a></code></li>
<li><code><a href="../reference/projr_yml_dest_add.html">?projr_yml_dest_add_local</a></code></li>
</ul>
<hr>
</div>
</div>
<div class="section level2">
<h2 id="restore-artefacts">5. Restore artefacts<a class="anchor" aria-label="anchor" href="#restore-artefacts"></a>
</h2>
<div class="section level3">
<h3 id="when-to-use-4">When to use<a class="anchor" aria-label="anchor" href="#when-to-use-4"></a>
</h3>
<p>When setting up a project on a new machine or restoring an archived
version.</p>
</div>
<div class="section level3">
<h3 id="steps-4">Steps<a class="anchor" aria-label="anchor" href="#steps-4"></a>
</h3>
<p><strong>Restore entire repository:</strong></p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Clone repo and restore raw data</span></span>
<span><span class="fu"><a href="../reference/projr_restore.html">projr_restore_repo</a></span><span class="op">(</span><span class="st">"owner/repo"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Clone to specific directory</span></span>
<span><span class="fu"><a href="../reference/projr_restore.html">projr_restore_repo</a></span><span class="op">(</span><span class="st">"owner/repo"</span>, path <span class="op">=</span> <span class="st">"~/projects/my-project"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Restore from current working directory (if already cloned)</span></span>
<span><span class="fu"><a href="../reference/projr_restore.html">projr_restore_repo_wd</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><strong>Restore specific directories:</strong></p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Restore raw data only</span></span>
<span><span class="fu"><a href="../reference/projr_restore.html">projr_content_update</a></span><span class="op">(</span>label <span class="op">=</span> <span class="st">"raw-data"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Restore multiple directories</span></span>
<span><span class="fu"><a href="../reference/projr_restore.html">projr_content_update</a></span><span class="op">(</span>label <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"raw-data"</span>, <span class="st">"output"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Restore specific version</span></span>
<span><span class="fu"><a href="../reference/projr_restore.html">projr_content_update</a></span><span class="op">(</span>label <span class="op">=</span> <span class="st">"raw-data"</span>, version <span class="op">=</span> <span class="st">"v0.1.0"</span><span class="op">)</span></span></code></pre></div>
<p><strong>Restoration sources:</strong></p>
<p>projr checks these sources in order:</p>
<ol style="list-style-type: decimal">
<li>GitHub Releases (if configured in <code>_projr.yml</code>)</li>
<li>OSF (if configured)</li>
<li>Local archives (if configured)</li>
</ol>
<p><strong>Mapping labels to paths:</strong></p>
<p>The <code>_projr.yml</code> file defines where each label’s content
is stored:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb15-1"><a href="#cb15-1" tabindex="-1"></a><span class="fu">directories</span><span class="kw">:</span></span>
<span id="cb15-2"><a href="#cb15-2" tabindex="-1"></a><span class="at">  </span><span class="fu">raw-data</span><span class="kw">:</span></span>
<span id="cb15-3"><a href="#cb15-3" tabindex="-1"></a><span class="at">    </span><span class="fu">path</span><span class="kw">:</span><span class="at"> _raw_data</span></span>
<span id="cb15-4"><a href="#cb15-4" tabindex="-1"></a><span class="at">  </span><span class="fu">output</span><span class="kw">:</span></span>
<span id="cb15-5"><a href="#cb15-5" tabindex="-1"></a><span class="at">    </span><span class="fu">path</span><span class="kw">:</span><span class="at"> _output</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="pitfalls-4">Pitfalls<a class="anchor" aria-label="anchor" href="#pitfalls-4"></a>
</h3>
<ul>
<li>
<strong>Missing archives</strong>: If no archive is found for a
label, restoration fails silently.</li>
<li>
<strong>Version mismatches</strong>: Ensure you’re restoring the
correct version. Check available versions on GitHub Releases.</li>
<li>
<strong>Authentication</strong>: Ensure GitHub/OSF credentials are
set up before restoring.</li>
</ul>
</div>
<div class="section level3">
<h3 id="see-also-4">See also<a class="anchor" aria-label="anchor" href="#see-also-4"></a>
</h3>
<ul>
<li><code><a href="../reference/projr_restore.html">?projr_restore_repo</a></code></li>
<li><code><a href="../reference/projr_restore.html">?projr_restore</a></code></li>
</ul>
<hr>
</div>
</div>
<div class="section level2">
<h2 id="define-directories-and-labels">6. Define directories and labels<a class="anchor" aria-label="anchor" href="#define-directories-and-labels"></a>
</h2>
<div class="section level3">
<h3 id="when-to-use-5">When to use<a class="anchor" aria-label="anchor" href="#when-to-use-5"></a>
</h3>
<p>When customising project directory structure beyond the defaults.</p>
</div>
<div class="section level3">
<h3 id="steps-5">Steps<a class="anchor" aria-label="anchor" href="#steps-5"></a>
</h3>
<p><strong>Default labels:</strong></p>
<p>projr provides these default labels:</p>
<ul>
<li>
<code>raw-data</code> → <code>_raw_data</code>
</li>
<li>
<code>cache</code> → <code>_tmp</code>
</li>
<li>
<code>output</code> → <code>_output</code>
</li>
<li>
<code>docs</code> → <code>docs</code>
</li>
</ul>
<p><strong>Add custom labels in <code>_projr.yml</code>:</strong></p>
<div class="sourceCode" id="cb16"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb16-1"><a href="#cb16-1" tabindex="-1"></a><span class="fu">directories</span><span class="kw">:</span></span>
<span id="cb16-2"><a href="#cb16-2" tabindex="-1"></a><span class="at">  </span><span class="fu">raw-data</span><span class="kw">:</span></span>
<span id="cb16-3"><a href="#cb16-3" tabindex="-1"></a><span class="at">    </span><span class="fu">path</span><span class="kw">:</span><span class="at"> _raw_data</span></span>
<span id="cb16-4"><a href="#cb16-4" tabindex="-1"></a><span class="at">  </span><span class="fu">raw-data-public</span><span class="kw">:</span></span>
<span id="cb16-5"><a href="#cb16-5" tabindex="-1"></a><span class="at">    </span><span class="fu">path</span><span class="kw">:</span><span class="at"> _raw_data_public</span></span>
<span id="cb16-6"><a href="#cb16-6" tabindex="-1"></a><span class="at">  </span><span class="fu">raw-data-private</span><span class="kw">:</span></span>
<span id="cb16-7"><a href="#cb16-7" tabindex="-1"></a><span class="at">    </span><span class="fu">path</span><span class="kw">:</span><span class="at"> _raw_data_private</span></span>
<span id="cb16-8"><a href="#cb16-8" tabindex="-1"></a><span class="at">  </span><span class="fu">cache</span><span class="kw">:</span></span>
<span id="cb16-9"><a href="#cb16-9" tabindex="-1"></a><span class="at">    </span><span class="fu">path</span><span class="kw">:</span><span class="at"> _tmp</span></span>
<span id="cb16-10"><a href="#cb16-10" tabindex="-1"></a><span class="at">  </span><span class="fu">output</span><span class="kw">:</span></span>
<span id="cb16-11"><a href="#cb16-11" tabindex="-1"></a><span class="at">    </span><span class="fu">path</span><span class="kw">:</span><span class="at"> _output</span></span>
<span id="cb16-12"><a href="#cb16-12" tabindex="-1"></a><span class="at">  </span><span class="fu">output-figures</span><span class="kw">:</span></span>
<span id="cb16-13"><a href="#cb16-13" tabindex="-1"></a><span class="at">    </span><span class="fu">path</span><span class="kw">:</span><span class="at"> _output/figures</span></span>
<span id="cb16-14"><a href="#cb16-14" tabindex="-1"></a><span class="at">  </span><span class="fu">docs</span><span class="kw">:</span></span>
<span id="cb16-15"><a href="#cb16-15" tabindex="-1"></a><span class="at">    </span><span class="fu">path</span><span class="kw">:</span><span class="at"> docs</span></span></code></pre></div>
<p><strong>Rules for directory labels:</strong></p>
<ol style="list-style-type: decimal">
<li>
<strong>No nesting</strong>: Each label maps to a single path</li>
<li>
<strong>Unique labels</strong>: Each label must be unique</li>
<li>
<strong>Fixed prefixes</strong>: Labels must start with
<code>raw</code>, <code>cache</code>, <code>output</code>, or
<code>docs</code>
</li>
<li>
<strong>Auto-creation</strong>: Directories are created
automatically on build</li>
</ol>
<p><strong>Using custom labels:</strong></p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Access custom paths</span></span>
<span><span class="fu"><a href="../reference/projr_path_get.html">projr_path_get</a></span><span class="op">(</span><span class="st">"raw-data-public"</span><span class="op">)</span></span>
<span><span class="co"># "_raw_data_public"</span></span>
<span></span>
<span><span class="fu"><a href="../reference/projr_path_get.html">projr_path_get</a></span><span class="op">(</span><span class="st">"output-figures"</span>, <span class="st">"plot.png"</span><span class="op">)</span></span>
<span><span class="co"># "_output/figures/plot.png"</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="pitfalls-5">Pitfalls<a class="anchor" aria-label="anchor" href="#pitfalls-5"></a>
</h3>
<ul>
<li>
<strong>Invalid prefixes</strong>: Labels like <code>my-data</code>
will fail. Use <code>raw-my-data</code> instead.</li>
<li>
<strong>Nested conflicts</strong>: Don’t create labels that point to
subdirectories of other labels.</li>
</ul>
</div>
<div class="section level3">
<h3 id="see-also-5">See also<a class="anchor" aria-label="anchor" href="#see-also-5"></a>
</h3>
<ul>
<li><code><a href="../reference/projr_path_get.html">?projr_path_get</a></code></li>
<li><code><a href="../reference/projr_yml_get.html">?projr_yml_get</a></code></li>
</ul>
<hr>
</div>
</div>
<div class="section level2">
<h2 id="use-profiles">7. Use profiles<a class="anchor" aria-label="anchor" href="#use-profiles"></a>
</h2>
<div class="section level3">
<h3 id="when-to-use-6">When to use<a class="anchor" aria-label="anchor" href="#when-to-use-6"></a>
</h3>
<p>When you need different configurations for different contexts (e.g.,
development vs production, different collaborators).</p>
</div>
<div class="section level3">
<h3 id="steps-6">Steps<a class="anchor" aria-label="anchor" href="#steps-6"></a>
</h3>
<p><strong>Create a profile:</strong></p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create a profile based on _projr.yml</span></span>
<span><span class="fu"><a href="../reference/projr_profile_create.html">projr_profile_create</a></span><span class="op">(</span><span class="st">"dev"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># This creates _projr-dev.yml</span></span></code></pre></div>
<p><strong>Customise the profile:</strong></p>
<p>Edit <code>_projr-dev.yml</code> to override specific settings:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb19-1"><a href="#cb19-1" tabindex="-1"></a><span class="co"># Only differences from _projr.yml</span></span>
<span id="cb19-2"><a href="#cb19-2" tabindex="-1"></a><span class="fu">build</span><span class="kw">:</span></span>
<span id="cb19-3"><a href="#cb19-3" tabindex="-1"></a><span class="at">  </span><span class="fu">github</span><span class="kw">:</span></span>
<span id="cb19-4"><a href="#cb19-4" tabindex="-1"></a><span class="at">    </span><span class="fu">enabled</span><span class="kw">:</span><span class="at"> </span><span class="ch">false</span><span class="co">  # Disable GitHub uploads in dev profile</span></span>
<span id="cb19-5"><a href="#cb19-5" tabindex="-1"></a></span>
<span id="cb19-6"><a href="#cb19-6" tabindex="-1"></a><span class="fu">directories</span><span class="kw">:</span></span>
<span id="cb19-7"><a href="#cb19-7" tabindex="-1"></a><span class="at">  </span><span class="fu">output</span><span class="kw">:</span></span>
<span id="cb19-8"><a href="#cb19-8" tabindex="-1"></a><span class="at">    </span><span class="fu">path</span><span class="kw">:</span><span class="at"> _output_dev</span><span class="co">  # Use different output directory</span></span></code></pre></div>
<p><strong>Use a profile:</strong></p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Set environment variable</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Sys.setenv.html" class="external-link">Sys.setenv</a></span><span class="op">(</span>PROJR_PROFILE <span class="op">=</span> <span class="st">"dev"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Or set in .Renviron:</span></span>
<span><span class="co"># PROJR_PROFILE=dev</span></span>
<span></span>
<span><span class="co"># Now all projr functions use _projr-dev.yml</span></span>
<span><span class="fu"><a href="../reference/projr_build.html">projr_build</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p><strong>Check active profile:</strong></p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/projr_profile_get.html">projr_profile_get</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co"># "dev"</span></span></code></pre></div>
<p><strong>Delete a profile:</strong></p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/projr_profile_delete.html">projr_profile_delete</a></span><span class="op">(</span><span class="st">"dev"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="pitfalls-6">Pitfalls<a class="anchor" aria-label="anchor" href="#pitfalls-6"></a>
</h3>
<ul>
<li>
<strong>Forgetting to switch back</strong>: Remember to unset
<code>PROJR_PROFILE</code> when done.</li>
<li>
<strong>Partial overrides</strong>: Profiles only override specified
keys. Unspecified keys fall back to <code>_projr.yml</code>.</li>
</ul>
</div>
<div class="section level3">
<h3 id="see-also-6">See also<a class="anchor" aria-label="anchor" href="#see-also-6"></a>
</h3>
<ul>
<li><code><a href="../reference/projr_profile_create.html">?projr_profile_create</a></code></li>
<li><code><a href="../reference/projr_profile_get.html">?projr_profile_get</a></code></li>
<li><code><a href="../reference/projr_env_set.html">?projr_env_set</a></code></li>
</ul>
<hr>
</div>
</div>
<div class="section level2">
<h2 id="view-and-manage-build-logs">8. View and manage build logs<a class="anchor" aria-label="anchor" href="#view-and-manage-build-logs"></a>
</h2>
<div class="section level3">
<h3 id="when-to-use-7">When to use<a class="anchor" aria-label="anchor" href="#when-to-use-7"></a>
</h3>
<p>When you need to review build history, debug issues, or maintain
clean log files.</p>
</div>
<div class="section level3">
<h3 id="steps-7">Steps<a class="anchor" aria-label="anchor" href="#steps-7"></a>
</h3>
<p><strong>View build history:</strong></p>
<p>All builds are automatically logged to
<code>cache/projr/log/{dev,output}/history/builds.md</code>:</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># View dev build history</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/file.edit.html" class="external-link">file.edit</a></span><span class="op">(</span><span class="st">"cache/projr/log/dev/history/builds.md"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># View output build history</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/file.edit.html" class="external-link">file.edit</a></span><span class="op">(</span><span class="st">"cache/projr/log/output/history/builds.md"</span><span class="op">)</span></span></code></pre></div>
<p><strong>View detailed build logs:</strong></p>
<p>Each build creates a detailed Quarto log file organized by date:</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># List recent dev build logs</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/list.files.html" class="external-link">list.files</a></span><span class="op">(</span><span class="st">"cache/projr/log/dev/output"</span>,</span>
<span>           recursive <span class="op">=</span> <span class="cn">TRUE</span>, pattern <span class="op">=</span> <span class="st">"\\.qmd$"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Render a log file to HTML</span></span>
<span><span class="fu">quarto</span><span class="fu">::</span><span class="fu"><a href="https://quarto-dev.github.io/quarto-r/reference/quarto_render.html" class="external-link">quarto_render</a></span><span class="op">(</span><span class="st">"cache/projr/log/dev/output/2025-Nov-11/14-07-00.qmd"</span><span class="op">)</span></span></code></pre></div>
<p><strong>Control logging:</strong></p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Disable detailed log file creation (history still maintained)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Sys.setenv.html" class="external-link">Sys.setenv</a></span><span class="op">(</span>PROJR_LOG_DETAILED <span class="op">=</span> <span class="st">"FALSE"</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/projr_build_dev.html">projr_build_dev</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Re-enable detailed logging</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Sys.setenv.html" class="external-link">Sys.setenv</a></span><span class="op">(</span>PROJR_LOG_DETAILED <span class="op">=</span> <span class="st">"TRUE"</span><span class="op">)</span></span></code></pre></div>
<p><strong>Clear old logs:</strong></p>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Clear all logs</span></span>
<span><span class="fu"><a href="../reference/projr_log_clear.html">projr_log_clear</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Clear only dev logs</span></span>
<span><span class="fu"><a href="../reference/projr_log_clear.html">projr_log_clear</a></span><span class="op">(</span>build_type <span class="op">=</span> <span class="st">"dev"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Keep history, clear detailed logs only</span></span>
<span><span class="fu"><a href="../reference/projr_log_clear.html">projr_log_clear</a></span><span class="op">(</span>history <span class="op">=</span> <span class="cn">FALSE</span>, output <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Clear logs before a specific date</span></span>
<span><span class="fu"><a href="../reference/projr_log_clear.html">projr_log_clear</a></span><span class="op">(</span>before_date <span class="op">=</span> <span class="st">"2025-01-01"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="pitfalls-7">Pitfalls<a class="anchor" aria-label="anchor" href="#pitfalls-7"></a>
</h3>
<ul>
<li>
<strong>Log directory location</strong>: Logs are in
<code>cache/projr/log</code>, not in <code>_tmp</code>.</li>
<li>
<strong>Never auto-cleared</strong>: Unlike cache, logs are never
cleared automatically—manage manually.</li>
<li>
<strong>Disk space</strong>: Logs accumulate over time; clear old
logs periodically.</li>
</ul>
</div>
<div class="section level3">
<h3 id="see-also-7">See also<a class="anchor" aria-label="anchor" href="#see-also-7"></a>
</h3>
<ul>
<li><code><a href="../reference/projr_log_clear.html">?projr_log_clear</a></code></li>
<li><code><a href="../reference/projr_build.html">?projr_build</a></code></li>
<li>Console output control: Use <code>output_level</code> parameter in
build functions</li>
</ul>
<hr>
</div>
</div>
<div class="section level2">
<h2 id="query-manifest-to-track-file-changes">9. Query manifest to track file changes<a class="anchor" aria-label="anchor" href="#query-manifest-to-track-file-changes"></a>
</h2>
<div class="section level3">
<h3 id="when-to-use-8">When to use<a class="anchor" aria-label="anchor" href="#when-to-use-8"></a>
</h3>
<p>When you need to: - Understand which files changed between versions -
Track when specific outputs were last modified - Verify data provenance
and reproducibility - Audit project history</p>
</div>
<div class="section level3">
<h3 id="steps-8">Steps<a class="anchor" aria-label="anchor" href="#steps-8"></a>
</h3>
<p><strong>1. Compare two versions:</strong></p>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># See what files changed between v0.0.1 and v0.0.2</span></span>
<span><span class="va">changes</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/projr_manifest_query.html">projr_manifest_changes</a></span><span class="op">(</span><span class="st">"0.0.1"</span>, <span class="st">"0.0.2"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># View the results</span></span>
<span><span class="va">changes</span></span>
<span><span class="co"># Returns: label, fn, change_type (added/modified/removed),</span></span>
<span><span class="co">#          hash_from, hash_to</span></span>
<span></span>
<span><span class="co"># Filter by directory</span></span>
<span><span class="va">output_changes</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/projr_manifest_query.html">projr_manifest_changes</a></span><span class="op">(</span></span>
<span>  <span class="st">"0.0.1"</span>, <span class="st">"0.0.2"</span>,</span>
<span>  label <span class="op">=</span> <span class="st">"output"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><strong>2. Track files across multiple versions:</strong></p>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># See all files and when they last changed from v0.0.1 to current</span></span>
<span><span class="va">file_history</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/projr_manifest_query.html">projr_manifest_range</a></span><span class="op">(</span><span class="st">"0.0.1"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># View the results</span></span>
<span><span class="va">file_history</span></span>
<span><span class="co"># Returns: label, fn, version_first, version_last_change, hash</span></span>
<span></span>
<span><span class="co"># Limit to specific directory and version range</span></span>
<span><span class="va">raw_data_history</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/projr_manifest_query.html">projr_manifest_range</a></span><span class="op">(</span></span>
<span>  <span class="st">"0.0.1"</span>, <span class="st">"0.0.5"</span>,</span>
<span>  label <span class="op">=</span> <span class="st">"raw-data"</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><strong>3. Check when directories last changed:</strong></p>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># See most recent changes for each directory</span></span>
<span><span class="va">last_changes</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/projr_manifest_query.html">projr_manifest_last_change</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># View the results</span></span>
<span><span class="va">last_changes</span></span>
<span><span class="co"># Returns: label, version_last_change, n_files</span></span>
<span></span>
<span><span class="co"># Check status as of a specific version</span></span>
<span><span class="va">historical_status</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/projr_manifest_query.html">projr_manifest_last_change</a></span><span class="op">(</span><span class="st">"0.0.3"</span><span class="op">)</span></span></code></pre></div>
<p><strong>4. Practical examples:</strong></p>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Did any raw data change since last release?</span></span>
<span><span class="va">raw_changes</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/projr_manifest_query.html">projr_manifest_changes</a></span><span class="op">(</span></span>
<span>  <span class="st">"0.1.0"</span>,</span>
<span>  <span class="fu"><a href="../reference/projr_version_get.html">projr_version_get</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  label <span class="op">=</span> <span class="st">"raw-data"</span></span>
<span><span class="op">)</span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html" class="external-link">nrow</a></span><span class="op">(</span><span class="va">raw_changes</span><span class="op">)</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/message.html" class="external-link">message</a></span><span class="op">(</span><span class="st">"Raw data has changed - outputs may need regeneration"</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span></span>
<span><span class="co"># Find files that haven't changed in a while</span></span>
<span><span class="va">old_files</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/projr_manifest_query.html">projr_manifest_range</a></span><span class="op">(</span><span class="st">"0.0.1"</span><span class="op">)</span></span>
<span><span class="va">old_files</span><span class="op">[</span><span class="va">old_files</span><span class="op">$</span><span class="va">version_last_change</span> <span class="op">&lt;</span> <span class="st">"v0.0.5"</span>, <span class="op">]</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="pitfalls-8">Pitfalls<a class="anchor" aria-label="anchor" href="#pitfalls-8"></a>
</h3>
<ul>
<li>
<strong>Version format</strong>: Can use “0.0.1” or “v0.0.1” - both
work</li>
<li>
<strong>Empty manifests</strong>: Returns 0-row data.frame if no
changes found</li>
<li>
<strong>Manifest location</strong>: Manifest is at project root
(<code>manifest.csv</code>)</li>
<li>
<strong>Only tracks builds</strong>: Files are only tracked after
running <code><a href="../reference/projr_build.html">projr_build()</a></code>
<ul>
<li>Dev builds create temporary manifests but don’t update the main
one</li>
</ul>
</li>
</ul>
</div>
<div class="section level3">
<h3 id="see-also-8">See also<a class="anchor" aria-label="anchor" href="#see-also-8"></a>
</h3>
<ul>
<li><code><a href="../reference/projr_manifest_query.html">?projr_manifest_changes</a></code></li>
<li><code><a href="../reference/projr_manifest_query.html">?projr_manifest_range</a></code></li>
<li><code><a href="../reference/projr_manifest_query.html">?projr_manifest_last_change</a></code></li>
<li><code><a href="../reference/projr_version_get.html">?projr_version_get</a></code></li>
</ul>
<hr>
</div>
</div>
<div class="section level2">
<h2 id="configure-environment-variables">11. Configure environment variables<a class="anchor" aria-label="anchor" href="#configure-environment-variables"></a>
</h2>
<div class="section level3">
<h3 id="when-to-use-9">When to use<a class="anchor" aria-label="anchor" href="#when-to-use-9"></a>
</h3>
<p>When you need to: - Control build verbosity and logging behavior -
Set up different configurations for development vs. production - Store
authentication tokens securely - Override default build behaviors</p>
</div>
<div class="section level3">
<h3 id="quick-start">Quick start<a class="anchor" aria-label="anchor" href="#quick-start"></a>
</h3>
<p><strong>1. Create environment files</strong></p>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/files.html" class="external-link">file.create</a></span><span class="op">(</span><span class="st">"_environment"</span><span class="op">)</span>         <span class="co"># Global defaults</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/files.html" class="external-link">file.create</a></span><span class="op">(</span><span class="st">"_environment-dev"</span><span class="op">)</span>     <span class="co"># Profile-specific</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/files.html" class="external-link">file.create</a></span><span class="op">(</span><span class="st">"_environment.local"</span><span class="op">)</span>   <span class="co"># Machine-specific (git-ignored)</span></span></code></pre></div>
<p><strong>2. Add variables (format:
<code>KEY=value</code>)</strong></p>
<div class="sourceCode" id="cb32"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb32-1"><a href="#cb32-1" tabindex="-1"></a><span class="co"># _environment</span></span>
<span id="cb32-2"><a href="#cb32-2" tabindex="-1"></a><span class="va">PROJR_OUTPUT_LEVEL</span><span class="op">=</span>std</span>
<span id="cb32-3"><a href="#cb32-3" tabindex="-1"></a><span class="va">PROJR_LOG_DETAILED</span><span class="op">=</span>TRUE</span>
<span id="cb32-4"><a href="#cb32-4" tabindex="-1"></a></span>
<span id="cb32-5"><a href="#cb32-5" tabindex="-1"></a><span class="co"># _environment.local (for secrets)</span></span>
<span id="cb32-6"><a href="#cb32-6" tabindex="-1"></a><span class="va">GITHUB_PAT</span><span class="op">=</span>your_token_here</span></code></pre></div>
<p><strong>3. Activate environment variables</strong></p>
<div class="sourceCode" id="cb33"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/projr_env_set.html">projr_env_set</a></span><span class="op">(</span><span class="op">)</span>  <span class="co"># Loads all files in order of precedence</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="key-environment-variables">Key environment variables<a class="anchor" aria-label="anchor" href="#key-environment-variables"></a>
</h3>
<div class="sourceCode" id="cb34"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Build control</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Sys.setenv.html" class="external-link">Sys.setenv</a></span><span class="op">(</span>PROJR_OUTPUT_LEVEL <span class="op">=</span> <span class="st">"debug"</span><span class="op">)</span>    <span class="co"># "none", "std", "debug"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Sys.setenv.html" class="external-link">Sys.setenv</a></span><span class="op">(</span>PROJR_LOG_DETAILED <span class="op">=</span> <span class="st">"FALSE"</span><span class="op">)</span>    <span class="co"># TRUE/FALSE</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Sys.setenv.html" class="external-link">Sys.setenv</a></span><span class="op">(</span>PROJR_CLEAR_OUTPUT <span class="op">=</span> <span class="st">"never"</span><span class="op">)</span>    <span class="co"># "pre", "post", "never"</span></span>
<span></span>
<span><span class="co"># Profile selection</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Sys.setenv.html" class="external-link">Sys.setenv</a></span><span class="op">(</span>PROJR_PROFILE <span class="op">=</span> <span class="st">"dev"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Sys.setenv.html" class="external-link">Sys.setenv</a></span><span class="op">(</span>QUARTO_PROFILE <span class="op">=</span> <span class="st">"production"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="see-also-9">See also<a class="anchor" aria-label="anchor" href="#see-also-9"></a>
</h3>
<ul>
<li>
<a href="environment.html"><strong>Environment Variables
article</strong></a> - Complete documentation</li>
<li>
<code><a href="../reference/projr_env_set.html">?projr_env_set</a></code> - Load environment variables</li>
<li>
<code><a href="../reference/projr_profile_get.html">?projr_profile_get</a></code> - Get current profile</li>
</ul>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Miguel Rodo. Built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> and R</p>
</div>

<div class="pkgdown-footer-right">
  <p><a href="LICENSE.html">License</a> • projr is free and open source software</p>
</div>

    </footer>
</div>





  </body>
</html>
